FILE(GLOB srcs test-*.cpp)

ADD_EXECUTABLE(test-main main.cpp ${srcs} support.hpp)
TARGET_LINK_Y(test-main)

ENABLE_TESTING()
ADD_TEST(Platform    test-main platform)
ADD_TEST(Types       test-main types)
ADD_TEST(Lockable    test-main lockable)
ADD_TEST(Swap        test-main swap)
ADD_TEST(Zset        test-main zset)
ADD_TEST(AtExit      test-main at_exit)
ADD_TEST(Sys         test-main sys)
ADD_TEST(Code        test-main code)
ADD_TEST(Bits        test-main bits)
ADD_TEST(Chunk       test-main chunk)
ADD_TEST(Alloc       test-main alloc)
ADD_TEST(Core        test-main core)
ADD_TEST(Arena       test-main arena)
ADD_TEST(Blocks      test-main blocks)
ADD_Test(Slab        test-main slab)
ADD_TEST(Primality   test-main blocks)
ADD_TEST(Object0     test-main object0)
ADD_TEST(ObjectY     test-main objectY)
ADD_TEST(Slice       test-main slice)
ADD_TEST(Carver      test-main carver)
ADD_TEST(Pooled      test-main pooled)
ADD_TEST(Buffers     test-main buffers)
ADD_TEST(String      test-main string)
ADD_TEST(Istreams    test-main istreams)
ADD_TEST(Nugget      test-main nugget)
ADD_TEST(Nuggets     test-main nuggets)
ADD_TEST(Vein        test-main vein)
ADD_TEST(Ptr         test-main ptr)
ADD_TEST(Slots       test-main slots)
ADD_TEST(Sequence    test-main sequence)
ADD_TEST(Dyadic      test-main dyadic)
ADD_TEST(Endian      test-main endian)
ADD_TEST(Env         test-main env)
ADD_TEST(Parallel    test-main parallel)
ADD_TEST(Threads     test-main threads)
ADD_TEST(SIMD        test-main simd)
ADD_TEST(Complex     test-main complex)
ADD_TEST(MPN         test-main mpn)
ADD_TEST(hashing     test-main hashing)
ADD_TEST(ostreams    test-main ostreams)
ADD_TEST(xbitrev     test-main xbitrev 0.0)
ADD_TEST(FFT         test-main fft)
ADD_TEST(Sort        test-main sort)
ADD_TEST(Associative test-main associative)
ADD_TEST(Set         test-main set)
ADD_TEST(Map         test-main map)

ADD_CUSTOM_TARGET(utest-main
COMMAND ${CMAKE_CTEST_COMMAND} -V
DEPENDS test-main)
