CMAKE_MINIMUM_REQUIRED(VERSION 2.8.4)
PROJECT(upsylon)

INCLUDE(../scripts/y.cmake)
SET(CMAKE_INSTALL_PREFIX ${CMAKE_CURRENT_SOURCE_DIR}/../sdk)
MESSAGE( STATUS "SDK in ${CMAKE_INSTALL_PREFIX}")

MESSAGE( STATUS "")
MESSAGE( STATUS "Scanning Libraries" )
MESSAGE( STATUS  )
ADD_SUBDIRECTORY(main)
ADD_SUBDIRECTORY(math)
ADD_SUBDIRECTORY(lang)
ADD_SUBDIRECTORY(mpi)
ADD_SUBDIRECTORY(chem)
ADD_SUBDIRECTORY(ink)


IF( ${DOXYGEN} STREQUAL "DOXYGEN-NOTFOUND"  )
	MESSAGE( STATUS "No available Doxygen" )
ELSE()
	MESSAGE( STATUS "Will generate Doxygen" ) 
	ADD_CUSTOM_TARGET(docs
		COMMAND ${DOXYGEN}
		WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/..
		COMMENT "Generating Documentation")
ENDIF()

MESSAGE( STATUS "")
MESSAGE( STATUS "Scanning External Libraries" )
MESSAGE( STATUS  )
ADD_SUBDIRECTORY(ext)

MESSAGE( STATUS "")
MESSAGE( STATUS "Scanning C++ Wrapping Libraries" )
MESSAGE( STATUS  )
ADD_SUBDIRECTORY(z++)
ADD_SUBDIRECTORY(bz2++)

