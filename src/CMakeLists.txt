CMAKE_MINIMUM_REQUIRED(VERSION 2.8.4)
PROJECT(upsylon)

INCLUDE(../scripts/y.cmake)
SET(CMAKE_INSTALL_PREFIX ${CMAKE_CURRENT_SOURCE_DIR}/../sdk)
MESSAGE( STATUS "SDK in ${CMAKE_INSTALL_PREFIX}")

ADD_SUBDIRECTORY(main)
ADD_SUBDIRECTORY(math)

FIND_PROGRAM(DOXYGEN doxygen)
#MESSAGE( STATUS "DOXYGEN=${DOXYGEN}" )

IF( ${DOXYGEN} STREQUAL "DOXYGEN-NOTFOUND"  )
	MESSAGE( STATUS "No available Doxygen" )
ELSE()
	MESSAGE( STATUS "Will generate Doxygen" ) 
	ADD_CUSTOM_TARGET(docs
		COMMAND ${DOXYGEN}
		WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/..
		COMMENT "Generating Documentation")
ENDIF()

ADD_SUBDIRECTORY(ext)
ADD_SUBDIRECTORY(ink)
ADD_SUBDIRECTORY(z++)
ADD_SUBDIRECTORY(bz2++)

